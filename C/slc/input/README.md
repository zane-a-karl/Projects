# 2022-cs241

A repository for Winter 2022 CS241 students to post sample SMPL programs.

Note from fellow student: If you want *Syntax Highlighting* for SMPL, I wrote a syntax definition file for the Sublime Text code editor a few weeks ago. Download it from the package manager, it's called **[SMPL]**. Feel free to contribute code to the project or adapt to your editor of choice.

## Directory:

| Program Name | Description |
| ------------ | ----------- |
| `simplified_computations.smpl` | Performs many unnecessary computations. My parser generated 6 instructions for this program. Removing line 9, only 3 instructions are generated. |
| `empty_if.smpl` | Repeatedly compares two literals. In the first if statement, the first block is always traversed. In the second if statement, the second block is always traversed. In the third statement, no block is ever traversed. My parser generated 3 instructions for this program. |
| `empty_while.smpl` | Attempts looping on a false condition. The entire while loop basic block is never traversed. My parser generated 3 instructions for this program. |
| `if_joinboth.smpl` | Alters two variables on both then and else branches. Check to ensure phis are correctly modified. My parser generates 13 instructions. |
| `if_phi_uninit.smpl` | Will result in one phi function. The left phi operand is the value computed in the THEN block. The right phi operand is uninitialized (should default to value corresponding to 0). |
| `if_nested.smpl` | Alters one variable on each branch of an outer if and alters another variable on all four inner if branches. Check to ensure phis are correctly modified. Also check that the control flow graph handles nested graphs. My parser generates 23 instructions. |
| `if_nested3.smpl` | Alters one of three variables on each level of three nested ifs. Only uses then branches. Check that variable assignments propogate up graphs. My parser generates 27 instructions. |
| `while_ifnested3.smpl` | A modification to `if_nested3.smpl` where the nested if-statements are inside the body of the while loop. The phi generated in the join block of the while-statement should propagate to the rest of the join block (beside the phi's), the nested if-statements, and the basic block where the writes are performed. The left operand of the while-loop phi's should be from the read in the beginning, and the right operand should be from the phi's generated by the outer if-statement. |
| `duplicate_assignments.smpl` | Modifies variables different ways. Check that the write command outputs the correct instructions. Should write different instructions after the first two modifications but should write the same instruction twice after the final modification. My parser generates 11 instructions. |
| `different_bb_common_subexpr.smpl` | Common subexpression across different basic blocks. In this test, they are in the if block and the join block. The `let a <- b + 1;` in the join block should not appear in SSA-form if common subexpression elimination is implemented. |
| `simple_array_loads.smpl` | OutputNum commands on lines 11, 17, and 20 should require loads while lines 8 and 15 do not. |
| `while_double_CSE.smpl`| Consider CSE in both while statement and loop statemetment. | 
| `while_int_vars.smpl` | Building off `while_double_CSE.smpl`, phis should only be generated for the d variable. Also, requires correctly simplifying instructions with proper CSE elimination. |



[SMPL]:https://packagecontrol.io/packages/SMPL "a plugin for the SMPL programming language"
